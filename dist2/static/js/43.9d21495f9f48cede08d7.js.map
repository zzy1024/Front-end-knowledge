{"version":3,"sources":["webpack:///./src/components/recommend/recommend.vue","webpack:///./src/components/recommend/recommend.vue?4649","webpack:///./src/components/recommend/recommend.vue?3013"],"names":["recommend_recommend","pubfooter","name","data","busy","allData","loadingShow","noDataShow","nowPage","totalPage","categoryId","flag","liData","isDeactivated","timer","created","this","$store","commit","$route","query","console","log","parseInt","_getData","deactivated","activated","watch","to","_initCanshu","methods","goEquipDetail","id","$router","push","path","_this","_axios_0_18_0_axios_default","a","get","params","catid","p","then","res","status","totalPages","concat","toConsumableArray_default","goods_list","catch","error","loadMore","_this2","setTimeout","changeCategoryId","components","components_recommend_recommend","render","_vm","_h","$createElement","_c","_self","staticClass","class","on","click","$event","_v","_l","item","key","_s","mobile_name","directives","rawName","value","expression","attrs","infinite-scroll-disabled","infinite-scroll-distance","index","goods_id","goods_name","cat_name","country_name","staticStyle","-webkit-box-orient","goods_content","imgitem","num","src","img_path","click_count","sales_sum","__webpack_require__","indexNum","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/43.9d21495f9f48cede08d7.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport pubfooter from '@/components/pubfooter/pubfooter'\nimport axios from 'axios'\n\nexport default {\n  name: 'recommend',\n  data: function () {\n    return {\n      busy: true,\n      allData: {},\n      loadingShow: false,\n      noDataShow: false,\n      nowPage: 1,\n      totalPage: 10,\n      categoryId: 0,\n      flag: true,\n      liData: [],\n      isDeactivated: false,\n      timer: null\n    }\n  },\n  created() {\n    this.$store.commit('LOADING_SHOW', true)\n    if (this.$route.query.categoryId || this.$route.query.categoryId === 0) {\n      console.log('created阶段id：', this.$route.query.categoryId)\n      this.categoryId = parseInt(this.$route.query.categoryId)\n    }\n    this._getData()\n  },\n  deactivated() {\n    this.isDeactivated = true\n    console.log('我被停用了', this.isDeactivated)\n  },\n  activated() {\n    if (this.isDeactivated) {\n      this.busy = false\n    }\n    this.isDeactivated = false\n\n    console.log('我开始使用了', this.isDeactivated)\n  },\n  watch: {\n    '$route' (to) { // 监听路由是否变化\n      if (to.name === 'recommend') {\n        if (this.categoryId !== parseInt(this.$route.query.categoryId) && (this.$route.query.categoryId || this.$route.query.categoryId === 0)) {// 判断条件1  判断传递值的变化\n          this.categoryId = parseInt(this.$route.query.categoryId)\n          this._initCanshu()\n          this._getData()\n        }\n      }\n    }\n  },\n  methods: {\n    goEquipDetail(id) {\n      this.$router.push({path: 'equipdetails', query: { id: id }})\n    },\n    _getData() {\n      const url = '/Mobile/Equipment/recommend.html'\n      console.log(this.categoryId, this.nowPage)\n      axios.get(url, {\n        params: {\n          catid: this.categoryId,\n          p: this.nowPage\n        }\n      })\n        .then((res) => {\n          console.log(res)\n          this.$store.commit('LOADING_SHOW', false)\n          if (res.status === 200) {\n            this.allData = res.data\n            this.totalPage = this.allData.totalPages\n            this.liData = [...this.liData, ...res.data.goods_list]\n            console.log(this.liData)\n            if (this.flag) {\n              this.flag = false\n              this.busy = false\n            } else {\n              console.log('当前页数是：', this.nowPage, this.totalPage)\n              if (this.nowPage >= this.totalPage) {\n                this.busy = true\n                this.loadingShow = false\n                this.noDataShow = true\n              } else {\n                this.busy = false\n              }\n              if (this.isDeactivated) {\n                this.loadingShow = false\n                this.busy = true\n              }\n              this.loadingShow = false\n            }\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    },\n    loadMore() {\n      console.log('重复加载', this.busy)\n      this.loadingShow = true\n      this.busy = true\n      // 官方示例中延迟了1秒，防止滚动条滚动时的频繁请求数据\n      this.timer = setTimeout(() => {\n        // 这里请求接口去拿数据，实际应该是调用一个请求数据的方法\n        this.nowPage++\n        this._getData()\n      }, 1000)\n    },\n    _initCanshu() {\n      this.liData = []\n      this.busy = true // 是否正在加载过程中\n      this.nowPage = 1\n      this.flag = true\n      this.noDataShow = false\n    },\n    changeCategoryId(id) {\n      // this.categoryId = parseInt(id)\n      this.liData = []\n      this.$router.push({path: 'recommend', query: { categoryId: id }})\n    }\n  },\n  components: {\n    pubfooter\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/recommend/recommend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recommend\"},[_c('div',{staticClass:\"recom_fenlei\"},[_c('span',{class:{on:0 === _vm.categoryId},on:{\"click\":function($event){_vm.changeCategoryId(0)}}},[_vm._v(\"全部\")]),_vm._l((_vm.allData.goodsCategory),function(item){return _c('span',{key:item.id,class:{on:item.id == _vm.categoryId},on:{\"click\":function($event){_vm.changeCategoryId(item.id)}}},[_vm._v(_vm._s(item.mobile_name))])})],2),_vm._v(\" \"),_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"recom_list\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"50\"}},_vm._l((_vm.liData),function(item,index){return _c('div',{key:item.goods_id,staticClass:\"recom_node\",on:{\"click\":function($event){_vm.goEquipDetail(item.goods_id)}}},[_c('h3',{staticClass:\"recom_title\"},[_vm._v(_vm._s(item.goods_name))]),_vm._v(\" \"),_c('div',{staticClass:\"recom_tag\"},[_c('span',{staticClass:\"flxc\"},[_c('i'),_vm._v(_vm._s(item.cat_name))]),_c('span',{staticClass:\"dd\"},[_c('i'),_vm._v(_vm._s(item.country_name))])]),_vm._v(\" \"),_c('p',{staticClass:\"recom_info\",staticStyle:{\"-webkit-box-orient\":\"vertical\"}},[_vm._v(_vm._s(item.goods_content))]),_vm._v(\" \"),_c('div',{staticClass:\"recom_img clr\"},_vm._l((_vm.liData[index].goods_images),function(imgitem,num){return _c('div',{key:num,staticClass:\"recom_img_list\"},[_c('img',{attrs:{\"src\":imgitem.img_path}})])})),_vm._v(\" \"),_c('div',{staticClass:\"recom_foot\"},[_c('span',[_vm._v(_vm._s(item.click_count)+\"人感兴趣\")]),_vm._v(\" \"),_c('em',[_vm._v(_vm._s(item.sales_sum)+\"人付款\")])])])})),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadingShow),expression:\"loadingShow\"}],staticClass:\"list_load\"},[_c('img',{attrs:{\"src\":require(\"@/common/img/list_load.gif\")}}),_vm._v(\"数据加载中...\\n  \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noDataShow),expression:\"noDataShow\"}],staticClass:\"list_load\"},[_vm._v(\"\\n    没有更多数据了\\n  \")]),_vm._v(\" \"),_c('pubfooter',{attrs:{\"indexNum\":2}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-29305573\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/recommend/recommend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-29305573\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./recommend.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29305573\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/recommend/recommend.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}