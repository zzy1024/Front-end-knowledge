{"version":3,"sources":["webpack:///./src/components/aftersale/uploadcert.vue","webpack:///./src/components/aftersale/uploadcert.vue?7652","webpack:///./src/components/aftersale/uploadcert.vue?6c1d"],"names":["aftersale_uploadcert","uploadimg","name","data","upimgArr","returnId","wuliuData","selectDataIndex","shippingSn","telPhone","watch","val","this","match","join","activated","_this","$route","query","console","log","tools","showError","setTimeout","$router","go","_getWuliuData","methods","sendUploadCert","_this2","trim","validMobileFormat","length","_axios_0_18_0_axios_default","a","post","id","shipping_name","shipping_code","code","shipping_sn","refund_phone","return_imgs","then","res","status","msg","push","path","recId","catch","error","getUploadImgArr","arr","_this3","get","components","components_aftersale_uploadcert","render","_vm","_h","$createElement","_c","_self","staticClass","_v","directives","rawName","value","expression","on","change","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","_value","multiple","attrs","_l","item","index","domProps","_s","placeholder","type","input","composing","maxlength","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/31.7b03a99415d8194666f7.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport tools from '@/common/tools.js'\nimport axios from 'axios'\nimport uploadimg from '@/base/uploadimg/uploadimg'\n\nexport default {\n  name: 'uploadcert',\n  data() {\n    return {\n      upimgArr: [],\n      returnId: '',\n      wuliuData: [],\n      selectDataIndex: -1,\n      shippingSn: '',\n      telPhone: ''\n    }\n  },\n  watch: {\n    telPhone: function(val) {\n      if (!val) {\n        this.telPhone = ''\n        return false\n      }\n      this.telPhone = val.match(/\\d/ig) ? val.match(/\\d/ig).join('') : ''\n    }\n  },\n  activated() {\n    this.returnId = this.$route.query.returnId\n    console.log(this.returnId)\n    if (!this.returnId) {\n      tools.showError('没有找到退款id，正在返回上一页')\n      setTimeout(() => {\n        this.$router.go(-1)\n      }, 1000)\n    }\n    this._getWuliuData()\n  },\n  methods: {\n    sendUploadCert() {\n      if (this.selectDataIndex == -1) {\n        tools.showError('请先选择物流公司')\n        return false\n      }\n      if (tools.trim(this.shippingSn) == '') {\n        tools.showError('请填写物流单号')\n        return false\n      }\n      if (!tools.validMobileFormat(this.telPhone)) {\n        tools.showError('请填写正确的手机号码')\n        return false\n      }\n      if (this.upimgArr.length < 1) {\n        tools.showError('请上传至少一张凭证')\n        return false\n      }\n      let url = '/Mobile/Order/submit_express.html'\n      axios.post(url, {\n        id: this.returnId,\n        shipping_name: this.wuliuData[this.selectDataIndex].name,\n        shipping_code: this.wuliuData[this.selectDataIndex].code,\n        shipping_sn: this.shippingSn,\n        refund_phone: this.telPhone,\n        return_imgs: this.upimgArr\n      })\n        .then((res) => {\n          console.log(res)\n          if (res.data.status == 1) {\n            tools.showError(res.data.msg)\n            setTimeout(() => {\n              // this.$router.go(-1)\n              this.$router.push({'path': 'refunddetails', query: {recId: this.returnId}})\n            }, 1000)\n          } else {\n            tools.showError(res.data.msg)\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    },\n    getUploadImgArr(arr) {\n      console.log('我是父元素打印出来的', arr)\n      this.upimgArr = arr\n    },\n    _getWuliuData() {\n      let url = '/Mobile/Order/submit_express.html'\n      axios.get(url, {})\n        .then((res) => {\n          console.log(res)\n          if (res.data.status == 1) {\n            this.wuliuData = res.data.data\n          } else {\n            tools.showError(res.data.msg)\n            /* setTimeout(() => {\n              this.$router.go(-1)\n            }, 2000) */\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    }\n  },\n  components: {\n    uploadimg\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/aftersale/uploadcert.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"uploadcert\"},[_c('div',{staticClass:\"tuikuai_je\"},[_c('ul',[_c('li',[_c('span',[_vm._v(\"物流公司：\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectDataIndex),expression:\"selectDataIndex\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectDataIndex=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"-1\"}},[_vm._v(\"请选择\")]),_vm._v(\" \"),_vm._l((_vm.wuliuData),function(item,index){return _c('option',{domProps:{\"value\":index}},[_vm._v(_vm._s(item.name))])})],2)]),_vm._v(\" \"),_c('li',[_c('span',[_vm._v(\"物流单号：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shippingSn),expression:\"shippingSn\"}],staticClass:\"tuikuanjkjk\",attrs:{\"placeholder\":\"请填写物流单号\",\"type\":\"text\"},domProps:{\"value\":(_vm.shippingSn)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.shippingSn=$event.target.value}}})]),_vm._v(\" \"),_c('li',[_c('span',[_vm._v(\"联系电话：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.telPhone),expression:\"telPhone\"}],staticClass:\"tuikuanjkjk\",attrs:{\"maxlength\":\"11\",\"placeholder\":\"请填写手机号码\",\"type\":\"text\"},domProps:{\"value\":(_vm.telPhone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.telPhone=$event.target.value}}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"upload_pz\"},[_c('h3',[_vm._v(\"上传凭证\")]),_vm._v(\" \"),_c('uploadimg',{on:{\"getUploadImgArr\":_vm.getUploadImgArr}})],1),_vm._v(\" \"),_c('div',{staticClass:\"tijiaocont\"},[_c('a',{staticClass:\"tijiaobtn\",on:{\"click\":_vm.sendUploadCert}},[_vm._v(\"提交\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5cdf1a38\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/aftersale/uploadcert.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5cdf1a38\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./uploadcert.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./uploadcert.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./uploadcert.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5cdf1a38\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./uploadcert.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/aftersale/uploadcert.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}