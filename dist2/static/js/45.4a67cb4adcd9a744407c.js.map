{"version":3,"sources":["webpack:///./src/components/personal/accountset.vue","webpack:///./src/components/personal/accountset.vue?d6c6","webpack:///./src/components/personal/accountset.vue?df33"],"names":["personal_accountset","pubfooter","vue_core_image_upload","name","data","userInfo","upHead","headerImg","created","this","checkHasData","activated","methods","imageuploaded","res","console","log","status","head_pic","imagechanged","udata","$store","state","keys_default","length","_getData","_this","_axios_0_18_0_axios_default","a","get","then","commit","user","result","tools","setStorage","catch","error","components","vue-core-image-upload","components_personal_accountset","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","height","_v","attrs","crop","inputOfFile","extensions","inputAccept","max-file-size","compress","url","on","src","tag","to","exact","_s","nickname","email","mobile","indexNum","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/45.4a67cb4adcd9a744407c.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport pubfooter from '@/components/pubfooter/pubfooter'\nimport axios from 'axios'\nimport tools from '@/common/tools.js'\nimport VueCoreImageUpload from 'vue-core-image-upload'\n\nexport default {\n  name: 'accountset',\n  data: function() {\n    return {\n      userInfo: {},\n      data: {upHead: 1},\n      headerImg: ''\n    }\n  },\n  created() {\n    this.checkHasData()\n  },\n  activated() {\n    this.checkHasData()\n  },\n  methods: {\n    imageuploaded(res) {\n      console.log(res)\n      if (res.status == '1') {\n        this.headerImg = res.data.head_pic\n      }\n    },\n    imagechanged(res) {\n      console.log(res)\n    },\n    checkHasData() {\n      // 取个人数据，混合3种方式，一是store，二是本地存储，三是发送请求\n      let udata = this.$store.state.userInfo\n      if (Object.keys(udata).length === 0) {\n        /* if (tools.getStorage('userInfo')) {\n          this.userInfo = tools.getStorage('userInfo')\n        } else { */\n        this._getData()\n        /* } */\n      } else {\n        this.userInfo = udata\n        this.headerImg = this.userInfo.head_pic\n      }\n    },\n    _getData() {\n      const url = '/Mobile/User/index.html'\n      axios.get(url)\n        .then((res) => {\n          console.log(res)\n          this.$store.commit('LOADING_SHOW', false)\n          if (res.status === 200) {\n            this.userInfo = res.data.user.result\n            this.headerImg = this.userInfo.head_pic\n            this.$store.commit('SET_USERINFO', this.userInfo)\n            tools.setStorage('userInfo', this.userInfo)\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    }\n  },\n  components: {\n    pubfooter,\n    'vue-core-image-upload': VueCoreImageUpload\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/personal/accountset.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"accountset\"},[_c('ul',{staticClass:\"lst_ul\"},[_c('li',{staticStyle:{\"height\":\"1.4rem\"}},[_c('span',{staticClass:\"lst_l\"},[_vm._v(\"用户头像\")]),_vm._v(\" \"),_c('vue-core-image-upload',{staticClass:\"btn btn-primary lst_r\",attrs:{\"crop\":false,\"inputOfFile\":\"head_pic\",\"extensions\":\"jpg,png,gif,jpeg\",\"inputAccept\":\"image/jpg,image/jpeg,image/png\",\"data\":_vm.data,\"max-file-size\":5242880,\"compress\":\"50\",\"url\":\"http://api.lxplus.cn/index.php/Mobile/User/userinfo.html\"},on:{\"imageuploaded\":_vm.imageuploaded,\"imagechanged\":_vm.imagechanged}},[_c('img',{staticClass:\"accounthead\",attrs:{\"src\":_vm.headerImg}}),_c('i',{staticClass:\"rightarrow\"})])],1),_vm._v(\" \"),_c('router-link',{attrs:{\"tag\":\"li\",\"to\":\"/changeusername\",\"exact\":\"\"}},[_c('span',{staticClass:\"lst_l\"},[_vm._v(\"用户昵称\")]),_vm._v(\" \"),_c('span',{staticClass:\"lst_r\"},[_vm._v(_vm._s(_vm.userInfo.nickname)),_c('i',{staticClass:\"rightarrow\"})])]),_vm._v(\" \"),_c('router-link',{attrs:{\"tag\":\"li\",\"to\":\"/bindemail\",\"exact\":\"\"}},[_c('span',{staticClass:\"lst_l\"},[_vm._v(\"电子邮箱\")]),_vm._v(\" \"),_c('span',{staticClass:\"lst_r\"},[_vm._v(_vm._s(_vm.userInfo.email)),_c('i',{staticClass:\"rightarrow\"})])]),_vm._v(\" \"),_c('router-link',{attrs:{\"tag\":\"li\",\"to\":\"/bindphone\",\"exact\":\"\"}},[_c('span',{staticClass:\"lst_l\"},[_vm._v(\"手机号码\")]),_vm._v(\" \"),_c('span',{staticClass:\"lst_r\"},[_vm._v(_vm._s(_vm.userInfo.mobile)),_c('i',{staticClass:\"rightarrow\"})])])],1),_vm._v(\" \"),_c('div',{staticClass:\"account_tips\"},[_vm._v(\"\\n    温馨提示：绑定邮箱及手机号码，帮助您第一时间获取商城的最新活动及优惠信息，实时了解您的订单状态等信息。\\n  \")]),_vm._v(\" \"),_c('pubfooter',{attrs:{\"indexNum\":4}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-16cf3288\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/personal/accountset.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16cf3288\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./accountset.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./accountset.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./accountset.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16cf3288\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./accountset.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/personal/accountset.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}