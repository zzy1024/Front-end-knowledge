webpackJsonp([46],{EV1k:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("aozt"),i=t.n(n),a=t("mHYM");i.a.defaults.withCredentials=!0;i.a.defaults.withCredentials=!0;var l={name:"login",created:function(){var e=this,o=a.a.parseURL(window.location.href),t="http://api.lxplus.cn";if(console.log("从cookies获取到的值：",a.a.getCookie("token")),!a.a.getCookie("token"))if(o.params.state||o.params.code){var n=o.params.code,l=o.params.state,s=t+"/Mobile/MobileBase/login.html?code="+n+"&state="+l;i.a.get(s).then(function(o){200===o.status?(console.log("登录回来的信息",o),e.$store.commit("SET_USERDATE",o.data),a.a.setCookie("token",o.data.token,100),setTimeout(function(){e.goBeforeLoginUrl()},60)):window.location.href=t+"/Mobile/MobileBase/login.html"}).catch(function(e){console.log(e)})}else window.location.href=t+"/Mobile/MobileBase/login.html"},methods:{goBeforeLoginUrl:function(){var e=a.a.getCookie("beforeLoginUrl");console.log("返回登录前url"),e&&-1===e.indexOf("/login")?(this.$router.push(e),a.a.setCookie("beforeLoginUrl","")):this.$router.push("/")}},components:{}},s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"login"})},staticRenderFns:[]};var r=t("C7Lr")(l,s,!1,function(e){t("vFXz")},null,null);o.default=r.exports},vFXz:function(e,o){}});
//# sourceMappingURL=46.a83ad364e66ed4c1f1de.js.map