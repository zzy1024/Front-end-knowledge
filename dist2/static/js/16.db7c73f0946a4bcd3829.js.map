{"version":3,"sources":["webpack:///./src/components/personal/bindphone.vue","webpack:///./src/components/personal/bindphone.vue?a6f3","webpack:///./src/components/personal/bindphone.vue?6a8b"],"names":["personal_bindphone","name","data","telPhone","yzm","openGetYzm","isSending","isShowError","yzmTxt","djsTime","djsNum","errortxt","watch","val","this","match","join","tools","validMobileFormat","methods","getYzm","_this","_axios_0_18_0_axios_default","a","post","mobile","then","res","status","showError","num","setInterval","clearInterval","catch","error","console","log","setPhone","_this2","mobile_code","msg","$store","commit","$router","push","path","components_personal_bindphone","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","value","expression","attrs","type","maxlength","placeholder","domProps","on","input","$event","target","composing","_v","modifiers","number","_n","blur","$forceUpdate","class","yzmisopen","click","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/16.db7c73f0946a4bcd3829.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nimport tools from '@/common/tools.js'\n\nexport default {\n  name: 'bindphone',\n  data: function () {\n    return {\n      telPhone: '',\n      yzm: '',\n      openGetYzm: false,\n      isSending: false,\n      isShowError: false,\n      yzmTxt: '获取验证码',\n      djsTime: null,\n      djsNum: 10,\n      errortxt: ''\n    }\n  },\n  watch: {\n    telPhone: function(val) {\n      if (!val) {\n        this.telPhone = ''\n        return false\n      }\n      this.telPhone = val.match(/\\d/ig) ? val.match(/\\d/ig).join('') : ''\n      if (tools.validMobileFormat(this.telPhone)) {\n        this.openGetYzm = true\n      } else {\n        this.openGetYzm = false\n      }\n    }\n  },\n  methods: {\n    getYzm() {\n      if (!this.openGetYzm) {\n        return\n      }\n      // 发送验证码并成功\n      this.openGetYzm = false\n      const url = '/Mobile/User/smscode.html'\n      axios.post(url, {\n        mobile: this.telPhone\n      })\n        .then((res) => {\n          if (res.status === 200) {\n            tools.showError('验证码发送成功')\n            // this.isSending = true\n            let num = this.djsNum\n            this.djsTime = setInterval(() => {\n              num--\n              if (num === 0) {\n                clearInterval(this.djsTime)\n                this.djsTime = null\n                this.openGetYzm = true\n                this.yzmTxt = '重新发送'\n                return false\n              }\n              this.yzmTxt = num + '秒后重新发送'\n            }, 1000)\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    },\n    setPhone() {\n      if (!tools.validMobileFormat(this.telPhone)) {\n        tools.showError(\"请填写手机号\")\n        return\n      }\n      if (this.yzm === '') {\n        tools.showError(\"请填写验证码\")\n        return\n      }\n      const url = '/Mobile/User/userinfo.html'\n      axios.post(url, {\n        mobile: this.telPhone,\n        mobile_code: this.yzm\n      })\n        .then((res) => {\n          if (res.data.status === 1) {\n            console.log('设置手机号', res)\n            tools.showError(res.data.msg)\n            this.$store.commit('MODIFY_TELPHONE', this.telPhone)\n            this.$router.push({path: 'accountset'})\n          } else {\n            tools.showError(res.data.msg)\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/personal/bindphone.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bindphone\"},[_c('div',{staticClass:\"bindcont\"},[_c('ul',{staticClass:\"bind_list\"},[_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.telPhone),expression:\"telPhone\"}],staticClass:\"txt\",attrs:{\"type\":\"text\",\"maxlength\":\"11\",\"placeholder\":\"请输入手机号码\"},domProps:{\"value\":(_vm.telPhone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.telPhone=$event.target.value}}})]),_vm._v(\" \"),_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.yzm),expression:\"yzm\",modifiers:{\"number\":true}}],staticClass:\"txt\",attrs:{\"type\":\"number\",\"placeholder\":\"请输入短信验证码\"},domProps:{\"value\":(_vm.yzm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.yzm=_vm._n($event.target.value)},\"blur\":function($event){_vm.$forceUpdate()}}}),_vm._v(\" \"),_c('span',{staticClass:\"getyzm\",class:{yzmisopen:_vm.openGetYzm},on:{\"click\":_vm.getYzm}},[_vm._v(_vm._s(_vm.yzmTxt))])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowError),expression:\"isShowError\"}],staticClass:\"errortips\"},[_vm._v(\"*\"+_vm._s(_vm.errortxt))])]),_vm._v(\" \"),_c('a',{staticClass:\"sure_btn\",on:{\"click\":_vm.setPhone}},[_vm._v(\"确定\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-e25733be\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/personal/bindphone.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e25733be\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./bindphone.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./bindphone.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./bindphone.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e25733be\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./bindphone.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/personal/bindphone.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}