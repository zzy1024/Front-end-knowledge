webpackJsonp([12],{"1HZZ":function(t,s){},atre:function(t,s){},desH:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});Number;var o={name:"star",data:function(){return{starNum:5,nowStarIndex:0,starTxt:["非常差","差","一般","好","非常好"],nowStarTxt:""}},props:{selectStarNum:Number},model:{prop:"selectStarNum",event:"returnBack"},methods:{selectStar:function(t){this.nowStarIndex=t,this.nowStarTxt=this.starTxt[t-1],this.$emit("returnBack",t)}}},e={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"star clr"},[a("ul",{staticClass:"star_list clr"},t._l(t.starNum,function(s){return a("li",{class:{on:s<=t.nowStarIndex},on:{click:function(a){t.selectStar(s)}}})})),t._v(" "),a("em",{staticClass:"star_txt"},[t._v(t._s(t.nowStarTxt))])])},staticRenderFns:[]};var n=a("C7Lr")(o,e,!1,function(t){a("1HZZ")},null,null).exports,i=a("mHYM"),r=a("aozt"),l=a.n(r),c=a("q4T2"),u=(c.a,{name:"gotoassess",data:function(){return{miaoshuValue:0,wuliuValue:0,orderId:"",allData:[],commonList:[]}},watch:{$route:function(t,s){"gotoassess"===t.name&&(this.orderId=this.$route.query.orderId,console.log(this.orderId),this.resetFunc(),this.orderId&&this._getAssessData())}},activated:function(){this.orderId=this.$route.query.orderId,console.log(this.orderId),this._getAssessData()},methods:{resetFunc:function(){this.miaoshuValue=0,this.wuliuValue=0,this.orderId="",this.allData=[],this.commonList=[]},getUploadImgArr:function(t,s){console.log("我的数字是：",t,s),this.commonList[s].comment_img=t},sendAssessData:function(){var t=this;for(var s in this.commonList)if(console.log(s),""==this.commonList[s].content)return i.a.showError("评论不能为空"),!1;if(0==this.miaoshuValue)return i.a.showError("请选择描述评级"),!1;if(0==this.wuliuValue)return i.a.showError("请选择物流评级"),!1;l.a.post("/Mobile/Order/add_comment.html",{deliver_rank:this.wuliuValue,goods_rank:this.miaoshuValue,comment:this.commonList}).then(function(s){console.log(s),1==s.data.status?(i.a.showError(s.data.msg),setTimeout(function(){t.$router.go(-1)},1e3)):i.a.showError(s.data.msg)}).catch(function(t){console.log(t)})},monishuju:function(t){for(var s in t)this.commonList.push({order_id:t[s].order_id,goods_id:t[s].goods_id,content:"",comment_img:[]});console.log(this.commonList)},_getAssessData:function(){var t=this;l.a.get("/Mobile/Order/add_comment.html",{params:{order_id:this.orderId}}).then(function(s){console.log(s),1==s.data.status?(t.allData=s.data.data,t.monishuju(t.allData)):(i.a.showError(s.data.msg),setTimeout(function(){t.$router.go(-1)},1e3))}).catch(function(t){console.log(t)})}},components:{star:n,uploadimg:c.a}}),m={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"gotoassess"},[t._l(t.allData,function(s,o){return a("div",{staticClass:"assess_list"},[a("div",{staticClass:"assess_top"},[a("img",{attrs:{src:s.img_path}}),t._v(" "),a("div",{staticClass:"right_title",staticStyle:{"-webkit-box-orient":"vertical"}},[t._v("\n        "+t._s(s.goods_name)+"\n      ")])]),t._v(" "),a("div",{staticClass:"assess_cont"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commonList[o].content,expression:"commonList[index].content"}],attrs:{autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false",maxlength:"200",placeholder:"宝贝满足你的期待吗？说说你的使用心得，分享给想买的他们吧！"},domProps:{value:t.commonList[o].content},on:{input:function(s){s.target.composing||t.$set(t.commonList[o],"content",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"assess_imgcont"},[a("uploadimg",{on:{getUploadImgArr:function(s){t.getUploadImgArr(s,o)}}})],1)])}),t._v(" "),a("div",{staticClass:"select_star"},[a("p",{staticClass:"star_tips"},[t._v("请选择您对此次购物的整体评价")]),t._v(" "),a("div",{staticClass:"clr miaoshu"},[a("span",{staticClass:"ms_tips"},[t._v("描述相符")]),t._v(" "),a("star",{model:{value:t.miaoshuValue,callback:function(s){t.miaoshuValue=s},expression:"miaoshuValue"}})],1),t._v(" "),a("div",{staticClass:"clr miaoshu"},[a("span",{staticClass:"ms_tips"},[t._v("物流服务")]),t._v(" "),a("star",{model:{value:t.wuliuValue,callback:function(s){t.wuliuValue=s},expression:"wuliuValue"}})],1)]),t._v(" "),a("div",{staticClass:"send_cont"},[a("a",{staticClass:"send_btn",on:{click:t.sendAssessData}},[t._v("发布")])])],2)},staticRenderFns:[]};var d=a("C7Lr")(u,m,!1,function(t){a("atre")},null,null);s.default=d.exports}});
//# sourceMappingURL=12.7f7e6e5a677cee5b2daa.js.map