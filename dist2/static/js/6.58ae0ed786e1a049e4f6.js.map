{"version":3,"sources":["webpack:///./src/base/sliderimg/sliderimg.vue","webpack:///./src/base/sliderimg/sliderimg.vue?81a9","webpack:///./src/base/sliderimg/sliderimg.vue?4c71","webpack:///./src/components/equipment/equipment.vue","webpack:///./src/components/equipment/equipment.vue?f299","webpack:///./src/components/equipment/equipment.vue?c207"],"names":["sliderimg_sliderimg","Boolean","Number","name","data","currentPageIndex","dots","props","loop","type","default","autoPlay","interval","dotShow","mounted","_this","this","$nextTick","setTimeout","initTabScroll","initDots","initSlider","scroll","clearTimeout","timer","autoMove","window","addEventListener","refresh","activated","deactivated","beforeDestroy","destroyed","methods","isResize","oneWidth","width","children","$refs","tabWrapper","wrapper","getBoundingClientRect","i","length","style","console","log","_this2","bscroll_esm","click","scrollX","momentum","eventPassthrough","snap","threshold","speed","on","pageIndex","getCurrentPage","pageX","_this3","goToPage","Array","base_sliderimg_sliderimg","render","_vm","_h","$createElement","_c","_self","staticClass","ref","_t","_v","_l","item","index","key","class","active","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","equipment_equipment","pubfooter","topsearch","sliderimg","busy","loadingShow","noDataShow","nowPage","totalPage","allData","bigId","flag","categoryId","imgData","isDeactivated","created","$store","commit","$route","query","id","parseInt","_getData","watch","to","from","_initCanshu","goeQuipDetail","itemId","$router","push","path","_axios_0_18_0_axios_default","a","get","params","category_id","p","then","res","status","totalPages","concat","toConsumableArray_default","goods_list","_initScroll","catch","error","changeCategoryId","_setYxListWidth","_initYxList","loadMore","showAlert","_this4","changeId","zbWrapper","child","clientWidth","getComputedStyle","marginRight","parseFloat","Math","ceil","zb_biglist","components","components_equipment_equipment","Object","keys","ad_id","refInFor","$event","ad_link","attrs","src","img_path","_e","jingxuan","liuxue","youxue","qianzheng","_s","directives","rawName","value","expression","infinite-scroll-disabled","infinite-scroll-distance","goods_id","goods_images","goods_name","_f","shop_price","market_price","indexNum"],"mappings":"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","file":"static/js/6.58ae0ed786e1a049e4f6.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bscroll from 'better-scroll'\n\nexport default {\n  name: 'sliderimg',\n  data: function () {\n    return {\n      currentPageIndex: 0,\n      dots: []\n    }\n  },\n  props: {\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    autoPlay: {\n      type: Boolean,\n      default: true\n    },\n    interval: {\n      type: Number,\n      default: 4000\n    },\n    dotShow: {\n      type: Boolean,\n      default: false\n    }\n  },\n  mounted () {\n    this.$nextTick(() => {\n      setTimeout(() => {\n        this.initTabScroll()\n        this.initDots()\n        this.initSlider()\n        if (this.scroll && this.autoPlay) {\n          clearTimeout(this.timer)\n          this.autoMove()\n        }\n      }, 20)\n      window.addEventListener('resize', () => {\n        if (!this.scroll) {\n          return\n        }\n        setTimeout(() => {\n          this.initTabScroll(true)\n          this.scroll.refresh()\n        }, 20)\n      })\n    })\n  },\n  activated() {\n    if (this.scroll && this.autoPlay) {\n      clearTimeout(this.timer)\n      this.autoMove()\n    }\n    // this.autoMove() // keep-alive 组件激活时调用\n  },\n  deactivated() {\n    clearTimeout(this.timer) // keep-alive 组件停用时调用\n  },\n  beforeDestroy() {\n    clearTimeout(this.timer) // 实例销毁之前调用。在这一步，实例仍然完全可用。\n  },\n  destroyed() {\n    clearTimeout(this.timer)\n  },\n  methods: {\n    initTabScroll(isResize) {\n      let width = 0\n      let oneWidth = 0\n      this.children = this.$refs.tabWrapper.children\n      oneWidth = this.$refs.wrapper.getBoundingClientRect().width\n      for (let i = 0; i < this.children.length; i++) {\n        let child = this.children[i]\n        child.style.width = oneWidth + 'px'\n        width += oneWidth\n      }\n      console.log(oneWidth, width)\n      if (this.loop && !isResize && this.children.length > 1) {\n        width += 2 * oneWidth\n      }\n      this.$refs.tabWrapper.style.width = width + 'px'\n    },\n    initSlider() {\n      if (!this.scroll) {\n        this.scroll = new Bscroll(this.$refs.wrapper, {\n          click: true,\n          scrollX: true,\n          momentum: false,\n          'eventPassthrough': 'vertical', // 横向滚动后会默认阻止纵向滚动，开启\n          snap: {\n            loop: this.loop,\n            threshold: 0.1,\n            speed: 400\n          }\n        })\n\n        this.scroll.on('scrollEnd', () => {\n          let pageIndex = this.scroll.getCurrentPage().pageX\n          /* if (this.loop) {\n            pageIndex -= 1\n          } */\n          this.currentPageIndex = pageIndex\n          if (this.autoPlay) {\n            clearTimeout(this.timer)\n            this.autoMove()\n          }\n        })\n        this.scroll.on('beforeScrollStart', () => {\n          if (this.autoPlay) {\n            clearTimeout(this.timer)\n          }\n        })\n      } else {\n        this.scroll.refresh()\n      }\n    },\n    autoMove() {\n      let pageIndex = this.currentPageIndex + 1\n      if (pageIndex === (this.loop ? this.children.length - 2 : this.children.length)) {\n        pageIndex = 0\n      }\n      this.timer = setTimeout(() => {\n        this.scroll.goToPage(pageIndex, 0, 400)\n      }, this.interval)\n    },\n    initDots() {\n      if (this.dotShow) {\n        this.dots = new Array(this.children.length)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/sliderimg/sliderimg.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sliderimg\"},[_c('div',{ref:\"wrapper\",staticClass:\"wrapper\"},[_c('ul',{ref:\"tabWrapper\",staticClass:\"content clr\"},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"dots\"},_vm._l((_vm.dots),function(item,index){return _c('span',{key:index,staticClass:\"dot\",class:{active: _vm.currentPageIndex === index }})}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-ad69d184\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/base/sliderimg/sliderimg.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ad69d184\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./sliderimg.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./sliderimg.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./sliderimg.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ad69d184\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./sliderimg.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/sliderimg/sliderimg.vue\n// module id = null\n// module chunks = ","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport pubfooter from '@/components/pubfooter/pubfooter'\nimport topsearch from '@/base/topsearch/topsearch'\nimport sliderimg from '@/base/sliderimg/sliderimg'\nimport BScroll from 'better-scroll'\nimport axios from 'axios'\n\nexport default {\n  name: 'equipment',\n  data: function() {\n    return {\n      busy: true, // 是否正在加载过程中\n      loadingShow: false,\n      noDataShow: false,\n      nowPage: 1,\n      totalPage: 10,\n      allData: {},\n      bigId: 0,\n      flag: true,\n      categoryId: 0,\n      imgData: [],\n      isDeactivated: false\n    }\n  },\n  created() {\n    this.$store.commit('LOADING_SHOW', true)\n    if (this.$route.query.id || this.$route.query.id === 0) {\n      console.log('created阶段id：', this.$route.query.id)\n      this.bigId = parseInt(this.$route.query.id)\n    }\n    this._getData()\n  },\n  deactivated() {\n    this.isDeactivated = true\n    console.log('我被停用了', this.isDeactivated)\n  },\n  activated() {\n    if (this.isDeactivated) {\n      this.busy = false\n    }\n    this.isDeactivated = false\n\n    console.log('我开始使用了', this.isDeactivated)\n  },\n  mounted() {\n\n  },\n  watch: {\n    '$route' (to, from) { // 监听路由是否变化\n      if (to.name === 'equipment') {\n        if (this.bigId !== parseInt(this.$route.query.id) && (this.$route.query.id || this.$route.query.id === 0)) {// 判断条件1  判断传递值的变化\n          this.bigId = parseInt(this.$route.query.id)\n          this.categoryId = 0\n          this._initCanshu()\n          this._getData()\n        }\n      }\n    }\n  },\n  methods: {\n    goeQuipDetail(itemId) {\n      this.$router.push({path: 'equipdetails', query: { id: itemId }})\n    },\n    _getData() {\n      const url = '/Mobile/Equipment/index.html'\n      console.log(this.bigId, this.categoryId, this.nowPage)\n      axios.get(url, {\n          params: {\n          id: this.bigId,\n          category_id: this.categoryId,\n          p: this.nowPage\n        }\n      })\n        .then((res) => {\n          console.log(res)\n          this.$store.commit('LOADING_SHOW', false)\n          if (res.status === 200) {\n            this.allData = res.data\n            this.totalPage = this.allData.totalPages\n            this.imgData = [...this.imgData, ...res.data.goods_list]\n            console.log(this.imgData)\n            this.$nextTick(() => {\n              this._initScroll()\n            })\n            if (this.flag) {\n              this.flag = false\n              this.busy = false\n            } else {\n              console.log('当前页数是：', this.nowPage, this.totalPage)\n              if (this.nowPage >= this.totalPage) {\n                this.busy = true\n                this.loadingShow = false\n                this.noDataShow = true\n              } else {\n                this.busy = false\n              }\n              if (this.isDeactivated) {\n                this.loadingShow = false\n                this.busy = true\n              }\n              this.loadingShow = false\n            }\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    },\n    changeCategoryId(id) {\n      this.categoryId = id\n      this._initCanshu()\n      this._getData()\n    },\n    _initCanshu() {\n      this.imgData = []\n      this.busy = true // 是否正在加载过程中\n      this.nowPage = 1\n      this.flag = true\n      this.noDataShow = false\n    },\n    _initScroll() {\n      setTimeout(() => {\n        this._setYxListWidth()\n        this._initYxList()\n      }, 20)\n      window.addEventListener('resize', () => {\n        if (!this.scroll) {\n          return\n        }\n        setTimeout(() => {\n          this._setYxListWidth()\n          this.scroll.refresh()\n        }, 20)\n      })\n    },\n    loadMore() {\n      console.log('重复加载', this.busy)\n      this.loadingShow = true\n      this.busy = true\n      // 官方示例中延迟了1秒，防止滚动条滚动时的频繁请求数据\n      setTimeout(() => {\n        // 这里请求接口去拿数据，实际应该是调用一个请求数据的方法\n        this.nowPage++\n        this._getData()\n      }, 1000)\n    },\n    showAlert() {\n      console.log('父组件开始调用我了,开始刷新页面')\n      setTimeout(() => {\n        this._setYxListWidth()\n        this.scroll.refresh()\n      }, 20)\n    },\n    changeId(id) {\n      this.$router.push({path: 'equipment', query: { id: id }})\n    },\n    _setYxListWidth() {\n      let width = 0\n      let oneWidth = 0\n      // let loopString = true\n      this.children = this.$refs.zbWrapper.children\n      // oneWidth = this.$refs.yxwrapper.getBoundingClientRect().width\n      for (let i = 0; i < this.children.length; i++) {\n        // let tabNode = this.$refs.tabitem[i]\n        let child = this.children[i]\n        console.log('单个li宽度为：', child.clientWidth, 'marginRight数值是：', getComputedStyle(child).marginRight, ':px')\n        width += parseFloat(child.clientWidth) + parseFloat(getComputedStyle(child).marginRight)\n      }\n      console.log(oneWidth, width)\n      /* if (loopString && !isResize) {\n        width += 2 * oneWidth\n      } */\n      this.$refs.zbWrapper.style.width = Math.ceil(width) + 1 + 'px'\n    },\n    _initYxList() {\n      if (!this.scroll) {\n        this.scroll = new BScroll(this.$refs.zb_biglist, {\n          scrollX: true,\n          'eventPassthrough': 'vertical' // 横向滚动后会默认阻止纵向滚动，开启\n        })\n      }\n    }\n  },\n  components: {\n    pubfooter,\n    topsearch,\n    sliderimg\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/equipment/equipment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"equip\"},[_c('div',{staticClass:\"bannerImg\"},[_c('topsearch'),_vm._v(\" \"),(Object.keys(_vm.allData).length !== 0)?_c('sliderimg',_vm._l((_vm.allData.IndexAd),function(item){return _c('li',{key:item.ad_id,ref:\"tabitem\",refInFor:true,on:{\"click\":function($event){_vm.goeQuipDetail(item.ad_link)}}},[_c('img',{attrs:{\"src\":item.img_path}})])})):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"zbbig_fenlei\"},[_c('ul',{staticClass:\"clr\"},_vm._l((_vm.allData.Equipment),function(item,index){return _c('li',{key:index,class:{on: index === _vm.bigId},on:{\"click\":function($event){_vm.changeId(index)}}},[_c('i',{staticClass:\"jingxuan\",class:{jingxuan: index == 0, liuxue: index == 1, youxue: index == 2, qianzheng: index == 3}}),_c('p',[_vm._v(_vm._s(item))])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"zb_biglist_out\"},[_c('div',{ref:\"zb_biglist\",staticClass:\"zb_biglist\"},[_c('ul',{ref:\"zbWrapper\",staticClass:\"clr\"},_vm._l((_vm.allData.category_arr),function(item,key){return _c('li',{key:key,class:{on: key == _vm.categoryId},on:{\"click\":function($event){_vm.changeCategoryId(key)}}},[_vm._v(_vm._s(item))])}))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"zbsmail\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},[_c('ul',{staticClass:\"clr\"},_vm._l((_vm.imgData),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){_vm.goeQuipDetail(item.goods_id)}}},[_c('img',{attrs:{\"src\":item.goods_images}}),_vm._v(\" \"),_c('div',{staticClass:\"zb_title\"},[_vm._v(_vm._s(item.goods_name))]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"nowprice\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"quzheng\")(item.shop_price)))]),_c('em',{staticClass:\"oldprice\"},[_vm._v(\"￥\"+_vm._s(_vm._f(\"quzheng\")(item.market_price)))])])])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadingShow),expression:\"loadingShow\"}],staticClass:\"list_load\"},[_c('img',{attrs:{\"src\":require(\"@/common/img/list_load.gif\")}}),_vm._v(\"数据加载中...\\n  \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noDataShow),expression:\"noDataShow\"}],staticClass:\"list_load\"},[_vm._v(\"\\n    没有更多数据了\\n  \")]),_vm._v(\" \"),_c('pubfooter',{attrs:{\"indexNum\":1}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-62e12a55\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/equipment/equipment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62e12a55\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./equipment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./equipment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./equipment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62e12a55\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./equipment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/equipment/equipment.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}